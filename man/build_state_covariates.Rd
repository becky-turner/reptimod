% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/model_building_toolkit.R
\name{build_state_covariates}
\alias{build_state_covariates}
\title{Build state-level covariate inputs}
\usage{
build_state_covariates(
  all_state_covariates,
  covariates_i = character(),
  covariates_t = character(),
  covariates_it = character()
)
}
\arguments{
\item{all_state_covariates}{A named list of covariate objects (usually the output of
\code{\link{format_state_covariates}}). Each object can be:
\itemize{
\item a list with a \verb{$value} and optional \verb{$value2} (for polynomials), or
\item a matrix (for \code{it} covariates).
}}

\item{covariates_i}{Character vector of spatial covariate names to include.}

\item{covariates_t}{Character vector of temporal covariate names to include.}

\item{covariates_it}{Character vector of spatiotemporal covariate names to include.}
}
\value{
A named list with elements:
\describe{
\item{covariates_i}{Named list of spatial covariate vectors.}
\item{covariates_t}{Named list of temporal covariate vectors.}
\item{covariates_it}{Named list of spatiotemporal covariate matrices.}
}
}
\description{
Given a full list of pre-processed state covariates (site, time, or spatiotemporal),
this function extracts and organises them into structured lists for inclusion in the
NIMBLE iSDM. It checks for variable presence, resolves \code{.value} vs. matrix formats,
and handles polynomial terms where the covariate name ends in \code{2}.
}
\details{
Polynomial character strings (e.g., \code{"tas_MATcs2"}) are resolved by stripping the trailing \code{2}
and accessing the \code{value2} slot in the corresponding covariate list.
}
\seealso{
\code{\link{format_state_covariates}}
}
