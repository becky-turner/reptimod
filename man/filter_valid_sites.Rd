% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/spatial_data_toolkit.R
\name{filter_valid_sites}
\alias{filter_valid_sites}
\title{Filter species datasets by valid GB monads}
\usage{
filter_valid_sites(
  species_datasets_list,
  env_filepath = "/data/env-data/ERA5-land-tas/winter_tas_2007to2020_2025_03_08.rds",
  env_var_name = "tas_MAT",
  env_value = "tas_mean",
  region_filepath = "/data/env-data/gr_ref.csv",
  gr_col = "grid_ref",
  dims = 1,
  matching = FALSE
)
}
\arguments{
\item{species_datasets_list}{A named list of species datasets (data frames).}

\item{env_filepath}{Path to the environmental \code{.rds} file. Default is ERA5 winter temperature.}

\item{env_var_name}{Name of the variable in the RDS to use. Default is "tas_MAT".}

\item{env_value}{The column in the environmental dataset to filter by (default = "tas_mean").}

\item{region_filepath}{Path to a CSV file listing valid grid references to retain.}

\item{gr_col}{Column name in the region file with grid references. Default is "grid_ref".}

\item{dims}{Number of dimensions in environmental data (1 = spatial).}

\item{matching}{Whether to match nearest grid cell if exact match not available.}
}
\value{
A filtered list of species datasets with only valid \code{x1km_grid} entries retained.
}
\description{
Filters each dataset in the input list to retain only those sites for which valid environmental data exists.
}
\details{
This ensures compatibility between species records and environmental predictors.
}
